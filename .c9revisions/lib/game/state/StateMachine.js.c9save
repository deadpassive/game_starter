{"ts":1375106999365,"silentsave":true,"restoring":false,"patch":[[]],"length":0}
{"contributors":[],"silentsave":false,"ts":1375107109357,"patch":[[{"diffs":[[1,"/*global namespace*/\n\nvar states = namespace(\"Game.States\");\n\nstates.StateMachine = function(owner) {\n    this.owner = owner;\n};\n\nstates.StateMachine.prototype.update = function() {\n    if (this.globalState) this.globalState.execute();\n    if (this.currentState) this.currentState.execute();\n}"]],"start1":0,"start2":0,"length1":0,"length2":293}]],"length":293,"saved":false}
{"ts":1375107205887,"patch":[[{"diffs":[[0,"unction() {\n"],[1,"    //if a global state exists, call its execute method\n"],[0,"    if (this"]],"start1":170,"start2":170,"length1":24,"length2":80},{"diffs":[[0,"cute();\n"],[1,"    //same for the current state\n"],[0,"    if ("]],"start1":284,"start2":284,"length1":16,"length2":49},{"diffs":[[0,"ute();\n}"],[1,";\n\nstates.StateMachine.prototype.changeState = function(newState) {\n    this.previousState = this.currentState;\n    this.currentState.exit(this.owner);\n    this.currentState = newState;\n    this.currentState.enter(this.owner);\n};\n\n//change to a new state\n  void  ChangeState(State<entity_type>* pNewState)\n  {\n    assert(pNewState &&\n           \"<StateMachine::ChangeState>: trying to change to a null state\");\n \n    //keep a record of the previous state\n    m_pPreviousState = m_pCurrentState;\n \n    //call the exit method of the existing state\n    m_pCurrentState->Exit(m_pOwner);\n \n    //change state to the new state\n    m_pCurrentState = pNewState;\n \n    //call the entry method of the new state\n    m_pCurrentState->Enter(m_pOwner);\n  }"]],"start1":374,"start2":374,"length1":8,"length2":750}]],"length":1124,"saved":false}
{"ts":1375107226410,"patch":[[{"diffs":[[0,") {\n"],[-1,"    this.previousState = this.currentState;\n    this.currentState.exit(this.owner);\n    this.currentState = newState;\n    this.currentState.enter(this.owner);\n};\n\n//change to a new state\n  void  ChangeState(State<entity_type>* pNewState)\n  {\n    assert(pNewState &&\n           \"<StateMachine::ChangeState>: trying to change to a null state\");\n \n"],[0,"    "]],"start1":446,"start2":446,"length1":353,"length2":8},{"diffs":[[0,"    "],[-1,"m_pP"],[1,"this.p"],[0,"revi"]],"start1":492,"start2":492,"length1":12,"length2":14},{"diffs":[[0,"State = "],[-1,"m_pC"],[1,"this.c"],[0,"urrentSt"]],"start1":509,"start2":509,"length1":20,"length2":22},{"diffs":[[0,"rrentState;\n"],[-1," \n"],[0,"    //call t"]],"start1":524,"start2":524,"length1":26,"length2":24},{"diffs":[[0,"sting state\n    "],[-1,"m_pC"],[1,"this.c"],[0,"urrentState->Exi"]],"start1":573,"start2":573,"length1":36,"length2":38},{"diffs":[[0,"tate"],[-1,"->E"],[1,".e"],[0,"xit("],[-1,"m_pO"],[1,"this.o"],[0,"wner);\n"],[-1," \n"],[0,"    "]],"start1":602,"start2":602,"length1":28,"length2":27},{"diffs":[[0,"e new state\n    "],[-1,"m_pC"],[1,"this.c"],[0,"urrentState = pN"]],"start1":649,"start2":649,"length1":36,"length2":38},{"diffs":[[0,"e = "],[-1,"pN"],[1,"n"],[0,"ewSt"]],"start1":681,"start2":681,"length1":10,"length2":9},{"diffs":[[0,"te;\n"],[-1," \n"],[0,"    "]],"start1":691,"start2":691,"length1":10,"length2":8},{"diffs":[[0,"    "],[-1,"m_pC"],[1,"this.c"],[0,"urre"]],"start1":740,"start2":740,"length1":12,"length2":14},{"diffs":[[0,"tate"],[-1,"->E"],[1,".e"],[0,"nter("],[-1,"m_pO"],[1,"this.o"],[0,"wner);\n"],[-1,"  }"],[1,"};\n"]],"start1":757,"start2":757,"length1":26,"length2":27}]],"length":784,"saved":false}
{"ts":1375107257921,"patch":[[{"diffs":[[0,".owner);\n};\n"],[1,"\nstates.StateMachine.prototype.revertToPreviousState = function() {\n    this.changeState(this.previous);\n}"]],"start1":772,"start2":772,"length1":12,"length2":118}]],"length":890,"saved":false}
{"ts":1375107272907,"patch":[[{"diffs":[[0,"tion() {\n   "],[1," if (this.previousState)"],[0," this.change"]],"start1":843,"start2":843,"length1":24,"length2":48},{"diffs":[[0,"previous"],[1,"State"],[0,");\n}"]],"start1":902,"start2":902,"length1":12,"length2":17}]],"length":919,"saved":false}
{"ts":1375107367202,"patch":[[{"diffs":[[0,"ousState);\n}"],[1,";\n\nstates.StateMachine.prototype.isInState = function(state) {\n    if (this.currentState && this.currentState.name = state.name);\n};"]],"start1":907,"start2":907,"length1":12,"length2":144}]],"length":1051,"saved":false}
{"ts":1375107378548,"patch":[[{"diffs":[[0,"tate) {\n    "],[-1,"if ("],[1,"return "],[0,"this.current"]],"start1":974,"start2":974,"length1":28,"length2":31},{"diffs":[[0,"e.name ="],[1,"="],[0," state.n"]],"start1":1030,"start2":1030,"length1":16,"length2":17},{"diffs":[[0,"ate.name"],[-1,")"],[0,";\n};"]],"start1":1042,"start2":1042,"length1":13,"length2":12}]],"length":1054,"saved":false}
{"contributors":[],"silentsave":false,"ts":1375431975001,"patch":[[{"diffs":[[0,"*/\n\nvar "],[-1,"s"],[1,"S"],[0,"tate"],[-1,"s"],[0," = names"]],"start1":18,"start2":18,"length1":22,"length2":21},{"diffs":[[0,"tate"],[-1,"s"],[0,"\");\n\n"],[1,"State.StateMachine = (function())\n\n"],[0,"stat"]],"start1":51,"start2":51,"length1":14,"length2":48},{"diffs":[[0,"execute("],[1,"this.owner"],[0,");\n    /"]],"start1":314,"start2":314,"length1":16,"length2":26},{"diffs":[[0,"execute("],[1,"this.owner"],[0,");\n};\n\ns"]],"start1":413,"start2":413,"length1":16,"length2":26},{"diffs":[[0,"sting state\n    "],[-1,""],[0,""],[1,"if (this.currentState) "],[0,"this.currentStat"]],"start1":626,"start2":626,"length1":32,"length2":55},{"diffs":[[0,"te.name;"],[-1,""],[0,""],[1,"\n};\n\n/**\n * Draw the current state.\n */\nstates.StateMachine.prototype.draw = function(ctx, xOffset, yOffset, tileSize) {\n    if (this.currentState) {\n        this.currentState.draw(ctx, xOffset, yOffset, tileSize);\n    }"],[0,"\n};"]],"start1":1119,"start2":1119,"length1":11,"length2":231}]],"length":1350,"saved":false}
{"contributors":[],"silentsave":false,"ts":1375449782187,"patch":[[{"diffs":[[0,"State\");"],[1,"\nvar GClass = namespace(\"GClass\");"],[0,"\n\nState."]],"start1":50,"start2":50,"length1":16,"length2":50},{"diffs":[[0,"on()"],[-1,")\n\nstates.StateMachine"],[1," {\n    var $this"],[0," = f"]],"start1":122,"start2":122,"length1":30,"length2":24},{"diffs":[[0,"wner) {\n    "],[1," "],[1,"   "],[0,"this.owner ="]],"start1":155,"start2":155,"length1":24,"length2":28},{"diffs":[[0,"er;\n"],[-1,"};\n\nstates.StateMachine.prototype."],[1,"    }\n    \n    GClass.extend(Object, $this, {\n        "],[0,"update"],[-1," ="],[1,":"],[0," fun"]],"start1":187,"start2":187,"length1":50,"length2":69},{"diffs":[[0,"unction() {\n"],[1,"        "],[0,"    //if a g"]],"start1":254,"start2":254,"length1":24,"length2":32},{"diffs":[[0," method\n"],[1,"        "],[0,"    if ("]],"start1":322,"start2":322,"length1":16,"length2":24},{"diffs":[[0,"his.owner);\n"],[1,"        "],[0,"    //same f"]],"start1":390,"start2":390,"length1":24,"length2":32},{"diffs":[[0,"rrent state\n"],[1,"        "],[0,"    if (this"]],"start1":431,"start2":431,"length1":24,"length2":32},{"diffs":[[0,"r);\n"],[-1,"};\n\nstates.StateMachine.prototype."],[1,"        };\n        \n        "],[0,"chan"]],"start1":513,"start2":513,"length1":42,"length2":36},{"diffs":[[0," changeState"],[-1," ="],[1,":"],[0," function(ne"]],"start1":544,"start2":544,"length1":26,"length2":25},{"diffs":[[0,"newState) {\n"],[1,"        "],[0,"    //keep a"]],"start1":567,"start2":567,"length1":24,"length2":32},{"diffs":[[0,"vious state\n"],[1,"        "],[0,"    this.pre"]],"start1":617,"start2":617,"length1":24,"length2":32},{"diffs":[[0,"rrentState;\n"],[1,"        "],[0,"    //call t"]],"start1":669,"start2":669,"length1":24,"length2":32},{"diffs":[[0,"sting state\n"],[1,"        "],[0,"    if (this"]],"start1":726,"start2":726,"length1":24,"length2":32},{"diffs":[[0,"his.owner);\n"],[1,"        "],[0,"    //change"]],"start1":797,"start2":797,"length1":24,"length2":32},{"diffs":[[0,"o the new state\n"],[1,"        "],[0,"    this.current"]],"start1":837,"start2":837,"length1":32,"length2":40},{"diffs":[[0,"= newState;\n"],[1,"        "],[0,"    //call t"]],"start1":883,"start2":883,"length1":24,"length2":32},{"diffs":[[0,"e new state\n"],[1,"        "],[0,"    this.cur"]],"start1":936,"start2":936,"length1":24,"length2":32},{"diffs":[[0,"r);\n"],[-1,"};\n\nstates.StateMachine.prototype."],[1,"        };\n        \n        "],[0,"reve"]],"start1":993,"start2":993,"length1":42,"length2":36},{"diffs":[[0,"reviousState"],[-1," ="],[1,":"],[0," function() "]],"start1":1034,"start2":1034,"length1":26,"length2":25},{"diffs":[[0,"unction() {\n"],[1,"        "],[0,"    if (this"]],"start1":1049,"start2":1049,"length1":24,"length2":32},{"diffs":[[0,"e);\n"],[-1,"};\n\nstates.StateMachine.prototype."],[1,"        };\n        \n        "],[0,"isIn"]],"start1":1131,"start2":1131,"length1":42,"length2":36},{"diffs":[[0,"on(state) {\n"],[1,"        "],[0,"    return t"]],"start1":1181,"start2":1181,"length1":24,"length2":32},{"diffs":[[0,"me;\n"],[-1,"};\n\n/**\n * Draw the current state.\n */\nstates.StateMachine.prototype."],[1,"        };\n        \n        /**\n         * Draw the current state.\n         */\n        "],[0,"draw"],[-1," ="],[1,":"],[0," fun"]],"start1":1267,"start2":1267,"length1":83,"length2":100},{"diffs":[[0,"tileSize) {\n"],[1,"        "],[0,"    if (this"]],"start1":1396,"start2":1396,"length1":24,"length2":32},{"diffs":[[0,"currentState) {\n"],[1,"        "],[0,"        this.cur"]],"start1":1429,"start2":1429,"length1":32,"length2":40},{"diffs":[[0,"    "],[-1,"}\n};"],[1,"        }\n        };\n    });\n    \n    return $this;\n})();\n\n"]],"start1":1518,"start2":1518,"length1":8,"length2":63}]],"length":1581,"saved":false}
{"ts":1375449798517,"patch":[[{"diffs":[[0,"owner;\n    }"],[-1,""],[0,""],[1,";"],[0,"\n    \n    GC"]],"start1":184,"start2":184,"length1":24,"length2":25},{"diffs":[[0,"wner);\n        }"],[-1,";"],[1,","],[0,"\n        \n      "]],"start1":511,"start2":511,"length1":33,"length2":33},{"diffs":[[0,"wner);\n        }"],[-1,";"],[1,","],[0,"\n        \n      "]],"start1":991,"start2":991,"length1":33,"length2":33},{"diffs":[[0,"tate);\n        }"],[-1,";"],[1,","],[0,"\n        \n      "]],"start1":1129,"start2":1129,"length1":33,"length2":33},{"diffs":[[0,"sInState"],[-1," ="],[1,":"],[0," functio"]],"start1":1165,"start2":1165,"length1":18,"length2":17},{"diffs":[[0,"e;\n        }"],[-1,";"],[1,","],[0,"\n        \n  "]],"start1":1268,"start2":1268,"length1":25,"length2":25},{"diffs":[[0," }\n        }"],[-1,";"],[1,","],[0,"\n    });\n   "]],"start1":1529,"start2":1529,"length1":25,"length2":25}]],"length":1581,"saved":false}
{"contributors":[],"silentsave":false,"ts":1375451338462,"patch":[[{"diffs":[[0,"unction() {\n"],[1,"    var currentState = null;\n    \n"],[0,"    var $thi"]],"start1":117,"start2":117,"length1":24,"length2":58}]],"length":1615,"saved":false}
{"ts":1375451357541,"patch":[[{"diffs":[[0,"            if ("],[-1,"this."],[1,"currentState && "],[0,"currentState) th"]],"start1":478,"start2":478,"length1":37,"length2":48},{"diffs":[[0," && currentState"],[1," != null"],[0,") this.currentSt"]],"start1":506,"start2":506,"length1":32,"length2":40}]],"length":1634,"saved":false}
{"ts":1375451364494,"patch":[[{"diffs":[[0,"State !="],[1,"="],[0," null) t"]],"start1":517,"start2":517,"length1":16,"length2":17}]],"length":1635,"saved":false}
{"ts":1375451391469,"patch":[[{"diffs":[[0,"= null) "],[-1,"this."],[0,"currentS"]],"start1":525,"start2":525,"length1":21,"length2":16},{"diffs":[[0,"State = "],[-1,"this."],[0,"currentS"]],"start1":704,"start2":704,"length1":21,"length2":16},{"diffs":[[0,"            if ("],[-1,"this."],[1,"currentState && "],[0,"currentState) th"]],"start1":783,"start2":783,"length1":37,"length2":48},{"diffs":[[0,"currentState"],[1," != null"],[0,") this.curre"]],"start1":815,"start2":815,"length1":24,"length2":32}]],"length":1644,"saved":false}
{"ts":1375451395190,"patch":[[{"diffs":[[0,"State !="],[1,"="],[0," null) t"]],"start1":822,"start2":822,"length1":16,"length2":17}]],"length":1645,"saved":false}
{"ts":1375451442568,"patch":[[{"diffs":[[0,"= null) "],[-1,"this."],[0,"currentS"]],"start1":830,"start2":830,"length1":21,"length2":16},{"diffs":[[0,"it(this.owner);\n"],[1,""],[0,"            //ch"]],"start1":853,"start2":853,"length1":32,"length2":32},{"diffs":[[0,"ate\n            "],[-1,"this."],[0,"currentState = n"]],"start1":909,"start2":909,"length1":37,"length2":32},{"diffs":[[0,"ate\n            "],[-1,"this."],[0,"currentState.ent"]],"start1":999,"start2":999,"length1":37,"length2":32},{"diffs":[[0," return "],[-1,"this."],[0,"currentS"]],"start1":1253,"start2":1253,"length1":21,"length2":16},{"diffs":[[0,"tate && "],[-1,"this."],[0,"currentS"]],"start1":1269,"start2":1269,"length1":21,"length2":16},{"diffs":[[0,"    if ("],[-1,"this."],[0,"currentS"]],"start1":1455,"start2":1455,"length1":21,"length2":16},{"diffs":[[0,"        "],[-1,"this."],[0,"currentS"]],"start1":1487,"start2":1487,"length1":21,"length2":16}]],"length":1610,"saved":false}
{"ts":1375452017414,"patch":[[{"diffs":[[0,") {\n"],[-1,"    var currentState = null;\n    \n"],[0,"    "]],"start1":125,"start2":125,"length1":42,"length2":8},{"diffs":[[0,"on(owner) {\n"],[1,""],[0,"        this"]],"start1":151,"start2":151,"length1":24,"length2":24},{"diffs":[[0,"    if ("],[-1,"currentState && "],[1,"this."],[0,"currentS"]],"start1":452,"start2":452,"length1":32,"length2":21},{"diffs":[[0,"currentState"],[-1," !== null) "],[1,") this."],[0,"currentState"]],"start1":465,"start2":465,"length1":35,"length2":31},{"diffs":[[0,"State = "],[1,"this."],[0,"currentS"]],"start1":655,"start2":655,"length1":16,"length2":21},{"diffs":[[0,"    if ("],[-1,"currentState && "],[1,"this."],[0,"currentS"]],"start1":747,"start2":747,"length1":32,"length2":21},{"diffs":[[0,"tate"],[-1," !== null) "],[1,") this."],[0,"curr"]],"start1":768,"start2":768,"length1":19,"length2":15},{"diffs":[[0,"ate\n            "],[1,"this."],[0,"currentState = n"]],"start1":850,"start2":850,"length1":32,"length2":37},{"diffs":[[0,"ate\n            "],[1,"this."],[0,"currentState.ent"]],"start1":945,"start2":945,"length1":32,"length2":37},{"diffs":[[0," return "],[1,"this."],[0,"currentS"]],"start1":1204,"start2":1204,"length1":16,"length2":21},{"diffs":[[0,"tate && "],[1,"this."],[0,"currentS"]],"start1":1225,"start2":1225,"length1":16,"length2":21},{"diffs":[[0,"    if ("],[1,"this."],[0,"currentS"]],"start1":1416,"start2":1416,"length1":16,"length2":21},{"diffs":[[0,"        "],[1,"this."],[0,"currentS"]],"start1":1453,"start2":1453,"length1":16,"length2":21}]],"length":1581,"saved":false}
{"ts":1375452075932,"patch":[[{"diffs":[[0," owner;\n"],[1,"        var test = \"Hello\";\n"],[0,"    };\n "]],"start1":183,"start2":183,"length1":16,"length2":44}]],"length":1609,"saved":false}
{"ts":1375452088273,"patch":[[{"diffs":[[0,"e: function() {\n"],[1,"            var another = test;\n"],[0,"            //if"]],"start1":279,"start2":279,"length1":32,"length2":64}]],"length":1641,"saved":false}
{"ts":1375452110364,"patch":[[{"diffs":[[0,") {\n"],[-1,"            var another = test;\n"],[0,"    "]],"start1":291,"start2":291,"length1":40,"length2":8}]],"length":1609,"saved":false}
{"contributors":[],"silentsave":false,"ts":1375948736391,"patch":[[{"diffs":[[0,"       this."],[1,"_"],[0,"owner = owne"]],"start1":164,"start2":164,"length1":24,"length2":25}]],"length":1610,"saved":false}
{"ts":1375948754511,"patch":[[{"diffs":[[0,"xecute(this."],[1,"_"],[0,"owner);\n"],[-1,""],[0,"            "]],"start1":412,"start2":412,"length1":32,"length2":33},{"diffs":[[0,"xecute(this."],[1,"_"],[0,"owner);\n    "]],"start1":528,"start2":528,"length1":24,"length2":25},{"diffs":[[0,"e.exit(this."],[1,"_"],[0,"owner);\n    "]],"start1":821,"start2":821,"length1":24,"length2":25},{"diffs":[[0,"f the new state\n"],[-1,""],[0,"            this"]],"start1":965,"start2":965,"length1":32,"length2":32},{"diffs":[[0,"er(this."],[1,"_"],[0,"owner);\n"]],"start1":1014,"start2":1014,"length1":16,"length2":17}]],"length":1614,"saved":false}
{"ts":1375948760518,"patch":[[{"diffs":[[0,"er;\n"],[-1,"        var test = \"Hello\";\n"],[0,"    "]],"start1":188,"start2":188,"length1":36,"length2":8}]],"length":1586,"saved":false}
{"ts":1375948810305,"patch":[[{"diffs":[[0,"   if (this."],[1,"_"],[0,"globalState)"]],"start1":341,"start2":341,"length1":24,"length2":25},{"diffs":[[0,"e) this."],[1,"_"],[0,"globalSt"]],"start1":364,"start2":364,"length1":16,"length2":17}]],"length":1588,"saved":false}
{"ts":1375948845178,"patch":[[{"diffs":[[0,"this, {\n"],[1,"        getGlobalState: function() {\n            return this._globalState;\n        },\n        \n        getCurrentState: function() {\n            return this._currentState;\n        },\n        \n"],[0,"        "]],"start1":231,"start2":231,"length1":16,"length2":208}]],"length":1780,"saved":false}
{"ts":1375948896952,"patch":[[{"diffs":[[0,"       if (this."],[1,"_"],[0,"currentState) th"]],"start1":645,"start2":645,"length1":32,"length2":33},{"diffs":[[0,"rentState) this."],[1,"_"],[0,"currentState.exe"]],"start1":665,"start2":665,"length1":32,"length2":33},{"diffs":[[0,"       this."],[1,"_"],[0,"previousStat"]],"start1":834,"start2":834,"length1":24,"length2":25},{"diffs":[[0,"tate = this."],[1,"_"],[0,"currentState"]],"start1":856,"start2":856,"length1":24,"length2":25},{"diffs":[[0,"       if (this."],[1,"_"],[0,"currentState) th"]],"start1":945,"start2":945,"length1":32,"length2":33},{"diffs":[[0,"State) this."],[1,"_"],[0,"currentState"]],"start1":969,"start2":969,"length1":24,"length2":25},{"diffs":[[0,"           this."],[-1,""],[0,""],[1,"_"],[0,"currentState = n"]],"start1":1059,"start2":1059,"length1":32,"length2":33},{"diffs":[[0,"           this."],[-1,""],[0,""],[1,"_"],[0,"currentState.ent"]],"start1":1155,"start2":1155,"length1":32,"length2":33},{"diffs":[[0,"   if (this."],[1,"_"],[0,"previousStat"]],"start1":1278,"start2":1278,"length1":24,"length2":25},{"diffs":[[0,"te(this."],[1,"_"],[0,"previous"]],"start1":1320,"start2":1320,"length1":16,"length2":17},{"diffs":[[0,"return this."],[1,"_"],[0,"currentState"]],"start1":1414,"start2":1414,"length1":24,"length2":25},{"diffs":[[0,"ate && this."],[1,"_"],[0,"currentState"]],"start1":1436,"start2":1436,"length1":24,"length2":25},{"diffs":[[0,"   if (this."],[1,"_"],[0,"currentState"]],"start1":1628,"start2":1628,"length1":24,"length2":25},{"diffs":[[0,"   this."],[1,"_"],[0,"currentS"]],"start1":1670,"start2":1670,"length1":16,"length2":17}]],"length":1794,"saved":false}
{"ts":1375948924496,"patch":[[{"diffs":[[0,"ntState."],[-1,"n"],[1,"getN"],[0,"ame"],[1,"()"],[0," == stat"]],"start1":1454,"start2":1454,"length1":20,"length2":25},{"diffs":[[0,"= state."],[-1,"n"],[1,"getN"],[0,"ame"],[1,"()"],[0,";\n      "]],"start1":1473,"start2":1473,"length1":20,"length2":25}]],"length":1804,"saved":false}
